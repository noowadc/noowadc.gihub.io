---
title:CH5
---
# CH5 - 빠른 CPU를 위한 설계 기법

## 비법

### 클럭

- 헤르츠 단위 속도로 측정로단순 클럭소도만으로 CPU의 성능을 올리는 데 한계 존재

### 코어와 멀티 코어

- CPU 성능을 높일 수 있음
- 코어 : 명령어를 실행하는 부품
- 멀티코어 :코어를 여러 개 포함하고 있는 CPU

### 스레드와 멀티 스레드

- 스레드 : 실행 흐름의 단위
    - 스레드 : 하나의 코어가 동시에 처리하는 명령어의 단위 :(=논리 프로세서)
    - 소프트웨어적 스레드  : 하나의 프로그램에서 독립적으로 실행되는 단위
- 멀티 스레드 : 하나의 코어로 명령어를 동시에 처리하는 CPU

→ 하이퍼스레딩

- 멀티 스레드 프로세서

## 명령어 병렬 처리 기법

: 명령어를 동시에 처리하여 CPU를 한시도 쉬지 않고 작동시키는 기법

### 명령어 파이프라인

- 명령어 처리 과정의 각 단계가 겹치지 않는다면 CPU는 각 단계를 동시에 실행할 수 있고, 명령어를 겹쳐서 수행하면서 마치 공장 생산 라인과 같이 명령어들을 명령어 파이프라인에 넣고 동시에 처리하는 기법이 명령어 파이프라이닝
- 파이프라인 위험 : 파이프라이닝이 높은 성능을 자랑하지만, 특정 상황에서는 성능향상에 실패
    - 데이터 위험 : 명령어 간 데이터 의존성에 의해 발생, 데이터 의존적인 두 명령어를 무작정 동시에 실행하려할 때 파이프라인이 제대로 작동하지 않는 것
    - 제어 위험 : 주로 분기 등으로 인한 프로그램 카운터의 갑작스러운 변화에 의해 발생, 명령어가 실행되면서 프로그램 카운터 값에 갑작슬운 변화가 생긴다면 명령어 파이프라인에 미리 가지고 와서 처리 중이었던 명령어들은 아무 쓸모가 없어지는 위험
        - 분기 예측 : 프로그램이 어디로 분기할 지 미리 예측한 후 그 주소를 인출하는 기술
    - 구조적 위험 : 명령어들을 겹쳐 실행하는 과정에서 서로 다른 명령어가 동시에 CPU 부품을 사용하려고 할 때 발생 (= 지원위험)

### 슈퍼 스칼라

: CPU 내부에 여러 개의 명령어 파이프라인을 포함한 구조

- 슈퍼 스칼라 프로세서, 슈퍼스칼라 CPU : 슈퍼 스칼라 구조로 명령어 처리가 가능한 CPU
    - 매 클럭 주기마다 동시에 여러 명령어를 인출힐수도, 해석하고, 실행할 수 있기 때문에 슈퍼 스칼라 구조 사용 가능
    - 이론적으로는 파이프라인 개수에 비례하여 프로그램 처리 속도가 빨라지나, 위험 등의 문제로 반드시 비례하지 않음

### 비순차적 명령어 처리(OoOE)

:  명령어들을 순차적으로 실행하지 않는 기법

- 명령어를 순차적으로 실행하지 않고 순서를 바꿔 실행해도 무방한 명령어를 먼저 실행하여 명령어 파이프라인이 멈추는 것을 방지하는 기법
- 명령어를 순차적으로 처리할 때보다 더 효율적으로 처리

## CISC와 RISC

### 명령어 집합

: CPU가 이해할 수 있는 명령어들의 모음

- ISA : CPU의 언어임과 동시에 CPU를 비롯한 하드웨어가 소프트웨어를 어떻게 이해할 지에 대한 약속

### CISC

: 복잡한 명령어 집합을 활용하는 컴퓨터

- 가변 길이 명령어 활용 → 상대적으로 적은 수의 명령어로도 프로그램을 실행할 수 있다.

⇒ 메모리를 최대한 아끼며 개발해야 했던 시기에 인기 높았음

- 활용하는 명령어가 워낙 복잡하고 다양한 기능을 제공하는 탓에 명령어의 크기과 실행되기까지의 시간이 일정하지 않다.
- 복잡한 명령어 때문에 명령어 하나를 실행하는 데에 여러 클럭 주기를 필요로 한다.
- 복잡하고 다양한 기능을 제공하기에 적은 수의 명령으로 프로그럄을 동작시키고 메모리를 절약할 수 있지만, 명령어의 규격화가 어려워 파이프라이닝이 아렵고, 대다수의 복잡한 명령어는 그 사용빈도가 낮아 **성장에 한계가 있음**

### RISC

: CISC에 비해 명령어의 종류가 적고, 짧고 규격화된 명령어, 되도록 1클럭 내외로 실행되는 명령어를 지향

- 고정 길이 명령어 활용 → 명령어 파이프라이닝에 최적화
- 메모리에 직접 접근하는 명령어를 load, store 두 개로 제한해 메모리 접근을 단순화하고, 최소화
- 레지스터를 적극 활용

![Untitled](CH5%20-%20%E1%84%88%E1%85%A1%E1%84%85%E1%85%B3%E1%86%AB%20CPU%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A5%E1%86%B8%20bdeaac76b5e042ed9872a5a52d1f565b/Untitled.png)
